/* =========================================================
   PRELOADER.CSS – SYSTEM INIT
   ========================================================= */

/* =========================================================
   CONTENEDOR GLOBAL
   ========================================================= */

.preloader {
  position: fixed;
  inset: 0;
  z-index: 10000;

  display: grid;
  place-items: center;

  user-select: none;

  background:
    radial-gradient(circle at 20% 15%, rgba(56,189,248,0.18), transparent 45%),
    radial-gradient(circle at 80% 85%, rgba(15,118,110,0.22), transparent 55%),
    linear-gradient(180deg, #020617, #020617);

  transition: opacity 420ms ease, visibility 420ms ease;
}

.preloader::after {
  content: "";
  position: absolute;
  inset: 0;

  background:
    repeating-linear-gradient(
      to bottom,
      rgba(255,255,255,0.015),
      rgba(255,255,255,0.015) 1px,
      transparent 1px,
      transparent 5px
    );

  opacity: 0.18;
  pointer-events: none;
}

/* =========================================================
   MÓDULO CENTRAL
   ========================================================= */

.preloader-card {
  position: relative;

  width: min(680px, 92vw);
  padding: 2.4rem 2.4rem 2.2rem;

  display: flex;
  flex-direction: column;
  align-items: center;

  border-radius: 20px;
  text-align: center;

  background:
    linear-gradient(
      180deg,
      rgba(255,255,255,0.10),
      rgba(255,255,255,0.05)
    );

  border: 1px solid rgba(255,255,255,0.16);
  backdrop-filter: blur(12px);

  box-shadow:
    0 40px 110px rgba(0,0,0,0.75),
    inset 0 0 0 1px rgba(255,255,255,0.04);

  overflow: hidden;
}

/* =========================================================
   IDENTIDAD (AVATAR + LOGO)
   ========================================================= */

.preloader-logos {
  margin-top: -0.6rem;
  margin-bottom: 1rem;

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1.6rem;
}

/* Avatar */
.preloader-avatar {
  position: relative;

  width: 85px;
  height: 85px;
  border-radius: 10%;
  object-fit: cover;

  border: 2px solid rgba(39, 79, 96, 0.55);

  box-shadow:
    0 12px 34px rgba(0,0,0,0.65),
    inset 0 0 0 1px rgba(255,255,255,0.08);
}

/* Aro técnico */
.preloader-avatar::after {
  content: "";
  position: absolute;
  inset: -6px;
  border-radius: 30%;

  border: 2px solid transparent;
  border-top-color: #196383;
  border-right-color: rgba(19, 108, 147, 0.35);

  opacity: 0;
  animation: avatarSpin 6s linear infinite;
  pointer-events: none;
}

/* Pulso */
.preloader-avatar::before {
  content: "";
  position: absolute;
  inset: -12px;
  border-radius: 50%;

  background: radial-gradient(
    circle,
    rgba(56,189,248,0.22),
    transparent 70%
  );

  opacity: 0.35;
  animation: avatarPulse 3.8s ease-in-out infinite;
  pointer-events: none;
}

/* Logo */
.preloader-brand {
  width: 92px;
  opacity: 0.9;
  filter: drop-shadow(0 6px 18px rgba(0,0,0,0.45));
}

/* =========================================================
   TEXTO · EJE CENTRAL
   ========================================================= */

.preloader-text {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.35rem; 
}

.preloader-eyebrow {
  margin: 0.4rem 0 0.6rem;
  font-size: 0.72rem;
  letter-spacing: 0.22em;
  text-transform: uppercase;
  color: rgba(255,255,255,0.6);
}

.preloader-title {
  margin: 0;
  font-size: clamp(1.9rem, 4vw, 2.5rem);
  font-weight: 800;
  letter-spacing: -0.015em;
  padding: 0.2rem 0 0.1 rem;
  line-height: 1.1;
}

.preloader-subtitle {
  margin: 0;
  font-size: 0.92rem;
  color: rgba(255,255,255,0.75);
}

.preloader-status {
  margin-top: 0.75rem;
  font-size: 0.78rem;
  letter-spacing: 0.02em;
  color: rgba(255,255,255,0.55);
}

/* =========================================================
   PROGRESO
   ========================================================= */

.preloader-progress {
  width: 100%;
  margin-top: 1.6rem;

  height: 8px;
  border-radius: 999px;
  overflow: hidden;

  background: rgba(255,255,255,0.12);
  border: 1px solid rgba(255,255,255,0.18);
}

.preloader-bar {
  position: relative;

  height: 100%;
  width: 0%;
  border-radius: inherit;

  background: linear-gradient(
    90deg,
    #38bdf8,
    #a5f3fc,
    #38bdf8
  );

  box-shadow:
    0 0 14px rgba(56,189,248,0.75);

  animation: preloaderFill 3400ms cubic-bezier(.4,0,.2,1) forwards;
}

.preloader-bar::after {
  content: "";
  position: absolute;
  inset: 0;

  background: linear-gradient(
    120deg,
    transparent,
    rgba(255,255,255,0.35),
    transparent
  );

  animation: scan 3.5s linear infinite;
}

/* =========================================================
   ESTADO FINAL
   ========================================================= */

.preloader.is-done {
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
}

/* =========================================================
   ANIMACIONES
   ========================================================= */

@keyframes preloaderFill {
  to { width: 100%; }
}

@keyframes scan {
  from { transform: translateX(-120%); }
  to   { transform: translateX(120%); }
}

@keyframes avatarSpin {
  to { transform: rotate(360deg); }
}

@keyframes avatarPulse {
  0%, 100% { opacity: 0.25; }
  50% { opacity: 0.45; }
}

/* =========================================================
   ACCESIBILIDAD
   ========================================================= */

@media (prefers-reduced-motion: reduce) {
  .preloader,
  .preloader-bar,
  .preloader-bar::after,
  .preloader-avatar::before,
  .preloader-avatar::after {
    animation: none !important;
    transition: none !important;
  }

  .preloader-bar {
    width: 100%;
  }
}
